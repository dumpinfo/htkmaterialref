<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>5.4 Filterbank Analysis</TITLE>
<META NAME="description" CONTENT="5.4 Filterbank Analysis">
<META NAME="keywords" CONTENT="HTKBook">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="HTKBook.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html2283" HREF="node55.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html2281" HREF="node50.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html2275" HREF="node53.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html2285" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html2286" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html2284" HREF="node55.html">5.5 Energy Measures</A>
<B>Up:</B> <A NAME="tex2html2282" HREF="node50.html">5 Speech Input/Output</A>
<B> Previous:</B> <A NAME="tex2html2276" HREF="node53.html">5.3 Linear Prediction Analysis</A>
<BR> <P>
<H1><A NAME="SECTION03240000000000000000">5.4 Filterbank Analysis</A></H1>
<A NAME="sfbankanal">&#160;</A>
<P>
The human ear resolves frequencies non-linearly across the audio spectrum and
empirical evidence suggests that designing a front-end to operate in a similar
non-linear manner improves recognition performance.  A popular alternative to
linear prediction based analysis is therefore filterbank analysis since this
provides a much more straightforward route to obtaining the desired non-linear
frequency resolution.  However, filterbank amplitudes are highly correlated and
hence, the use of a cepstral transformation in this case is virtually mandatory
if the data is to be used in a HMM based recogniser with diagonal covariances.
<A NAME=3674>&#160;</A> <A NAME=3675>&#160;</A>
<P>
HTK provides a simple Fourier transform based filterbank designed to
give approximately equal resolution on a mel-scale.  Fig.&nbsp;<A HREF="node54.html#fmelfbank">5.3</A>
illustrates the general form of this filterbank.    As can be seen,
the filters used are triangular and they are equally spaced along the mel-scale
which is defined by
<P><A NAME="emelscale">&#160;</A> <IMG WIDTH=500 HEIGHT=30 ALIGN=BOTTOM ALT="equation4838" SRC="img164.gif"  > <P>
To implement this filterbank, the window of speech data is
transformed<A NAME=3682>&#160;</A> using a Fourier transform and the magnitude is
taken.  The magnitude coefficients are then <i>binned</i> by correlating them
with each triangular filter.  Here binning means that each FFT magnitude
coefficient is multiplied by the corresponding filter gain and the results
accumulated.  Thus, each bin holds a weighted sum representing the spectral
magnitude in that filterbank channel.<A NAME=3684>&#160;</A> As an alternative, the
Boolean configuration parameter
<tt>USEPOWER</tt><A NAME=4533>&#160;</A> can be set true to use the
power rather than the magnitude of the Fourier transform in the binning
process.  <A NAME=3687>&#160;</A>
<P>
<A NAME="fmelfbank">&#160;</A> <IMG WIDTH=415 HEIGHT=215 ALIGN=BOTTOM ALT="tex2html_wrap19906" SRC="img165.gif"  > 
<P>
<A NAME=3691>&#160;</A>
Normally the triangular filters are spread over the whole frequency range from
zero upto the Nyquist frequency.  However, band-limiting is often useful to
reject unwanted frequencies or avoid allocating filters to frequency regions in
which there is no useful signal energy.  For filterbank analysis only, lower
and upper frequency cut-offs can be set using the configuration parameters
<tt>LOPASS</tt><A NAME=4534>&#160;</A> and
<tt>HIPASS</tt><A NAME=4535>&#160;</A>. For example,
<PRE>    LOPASS = 300
    HIPASS = 3400</PRE>
might be used for processing telephone speech.  When low and high pass cut-offs
are set in this way, the specified number of filterbank channels are distributed
equally on the mel-scale across the resulting pass-band such that the lower cut-off
of the first filter is at <tt>LOPASS</tt> and the upper cut-off of the last
filter is at <tt>HIPASS</tt>.
<P>
If mel-scale filterbank parameters are required directly, then the target kind
should be set to <tt>MELSPEC</tt><A NAME=4536>&#160;</A>.
Alternatively, log filterbank parameters can be generated by setting the target
kind to <tt>FBANK</tt>.  Most often, however, cepstral parameters are required
and these are indicated by setting the target kind to <tt>MFCC</tt> standing
for Mel-Frequency Cepstral Coefficients (MFCCs).  These are calculated from the
log filterbank amplitudes  <IMG WIDTH=30 HEIGHT=22 ALIGN=MIDDLE ALT="tex2html_wrap_inline19902" SRC="img166.gif"  >  using the Discrete Cosine Transform
<P><A NAME="edct">&#160;</A> <IMG WIDTH=500 HEIGHT=44 ALIGN=BOTTOM ALT="equation4863" SRC="img167.gif"  > <P>
where <I>N</I> is the number of filterbank channels set by the configuration
parameter <tt>NUMCHANS</tt><A NAME=4538>&#160;</A>.  The required
number of cepstral coefficients is set by
<tt>NUMCEPS</tt><A NAME=4539>&#160;</A> as in the linear prediction
case.  Liftering can also be applied to MFCCs using the
<tt>CEPLIFTER</tt><A NAME=4540>&#160;</A> configuration parameter
(see equation&nbsp;<A HREF="node53.html#eceplifter">5.12</A>).
<P>
MFCCs are the parameterisation of choice for many speech recognition applications.
They give good discrimination and lend themselves to a number of manipulations.
In particular, the effect of inserting a transmission channel on the input
speech is to multiply the speech spectrum by the channel tranfer function.
In the log cepstral domain, this multiplication becomes a simple addition which
can be removed by subtracting the cepstral mean from all input vectors.
In practice, of course, the mean has to be estimated over a limited amount
of speech data so the subtraction will not be perfect.  Nevertheless, this
simple technique is very effective in practice where it
compensates for long-term spectral effects such as those caused by different
microphones and audio channels.  To perform this
so-called <i>Cepstral Mean Normalisation</i> in HTK it is only necessary
to add the <tt>_Z</tt><A NAME=4541>&#160;</A> qualifier to the 
target parameter kind.  The mean is estimated by computing the average of
each cepstral parameter across each input speech file.  Since this cannot be done
with live audio, cepstral mean compensation is not supported for this case.
<A NAME=3718>&#160;</A>
<P>
<HR><A NAME="tex2html2283" HREF="node55.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html2281" HREF="node50.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html2275" HREF="node53.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html2285" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html2286" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html2284" HREF="node55.html">5.5 Energy Measures</A>
<B>Up:</B> <A NAME="tex2html2282" HREF="node50.html">5 Speech Input/Output</A>
<B> Previous:</B> <A NAME="tex2html2276" HREF="node53.html">5.3 Linear Prediction Analysis</A>
<P><ADDRESS>
ECRL HTK_V2.1: email support@entropic.com
</ADDRESS>
</BODY>
</HTML>
