<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>13.10.2 Bigram Generation</TITLE>
<META NAME="description" CONTENT="13.10.2 Bigram Generation">
<META NAME="keywords" CONTENT="HTKBook">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="HTKBook.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html4428" HREF="node214.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html4426" HREF="node211.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html4420" HREF="node212.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html4430" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html4431" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html4429" HREF="node214.html">13.10.3 Use</A>
<B>Up:</B> <A NAME="tex2html4427" HREF="node211.html">13.10 HLStats</A>
<B> Previous:</B> <A NAME="tex2html4421" HREF="node212.html">13.10.1 Function</A>
<BR> <P>
<H2><A NAME="SECTION041102000000000000000">13.10.2 Bigram Generation</A></H2>
<P>
When using the bigram generating options, each transcription is 
assumed to have a unique entry and exit label which by default are
<tt>!ENTER</tt> and <tt>!EXIT</tt>.  If these labels are not present
they are inserted.  In addition, any label occurring in a transcription
which is not listed in the HMM list is mapped to a unique label called
<tt>!NULL</tt>.
<P>
HLSTATS processes all input transcriptions and
maps all labels to a set of unique integers in the range 1 to <I>L</I>, where
<I>L</I> is the number of distinct labels.  
For each adjacent pair of labels <I>i</I>
and <I>j</I>, it counts the total number of occurrences <I>N</I>(<I>i</I>,<I>j</I>).
Let the total
number of occurrences of label <I>i</I> be  <IMG WIDTH=129 HEIGHT=30 ALIGN=MIDDLE ALT="tex2html_wrap_inline22308" SRC="img538.gif"  > .
<P>
For matrix bigrams, the bigram probability <I>p</I>(<I>i</I>,<I>j</I>) is given by
<P> <IMG WIDTH=373 HEIGHT=50 ALIGN=BOTTOM ALT="displaymath22288" SRC="img539.gif"  > <P>
where <I>f</I> is a floor probability set by the <tt>-f</tt> option
and  <IMG WIDTH=6 HEIGHT=6 ALIGN=BOTTOM ALT="tex2html_wrap_inline22318" SRC="img387.gif"  >  is chosen to ensure that  <IMG WIDTH=99 HEIGHT=30 ALIGN=MIDDLE ALT="tex2html_wrap_inline22320" SRC="img541.gif"  > .
<P>
For back-off bigrams, the unigram probablities <I>p</I>(<I>i</I>) are given
by
<P> <IMG WIDTH=347 HEIGHT=34 ALIGN=BOTTOM ALT="displaymath22289" SRC="img542.gif"  > <P>
where <I>u</I> is unigram floor count set by the <tt>-u</tt> option
and  <IMG WIDTH=129 HEIGHT=30 ALIGN=MIDDLE ALT="tex2html_wrap_inline22328" SRC="img543.gif"  > ,u].
<P>
The backed-off bigram probabilities are given by
<P> <IMG WIDTH=394 HEIGHT=34 ALIGN=BOTTOM ALT="displaymath22290" SRC="img456.gif"  > <P>
where <I>D</I> is a discount and <I>t</I> is a bigram count threshold set
by the <tt>-t</tt> option.  The discount <I>D</I> is fixed at 0.5 
but can be changed via the configuration variable <tt>DISCOUNT</tt>.
The back-off weight <I>b</I>(<I>i</I>) is calculated to ensure 
that  <IMG WIDTH=99 HEIGHT=30 ALIGN=MIDDLE ALT="tex2html_wrap_inline22342" SRC="img541.gif"  > , i.e.
<P> <IMG WIDTH=323 HEIGHT=39 ALIGN=BOTTOM ALT="displaymath22291" SRC="img546.gif"  > <P>
where <I>B</I> is the set of all words for which <I>p</I>(<I>i</I>,<I>j</I>) has a bigram.
<P>
The formats of matrix and ARPA/MIT-LL format bigram files are described
in Chapter&nbsp;<A HREF="node128.html#cnetdict">11</A>.
<P>
<HR><A NAME="tex2html4428" HREF="node214.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html4426" HREF="node211.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html4420" HREF="node212.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html4430" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html4431" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html4429" HREF="node214.html">13.10.3 Use</A>
<B>Up:</B> <A NAME="tex2html4427" HREF="node211.html">13.10 HLStats</A>
<B> Previous:</B> <A NAME="tex2html4421" HREF="node212.html">13.10.1 Function</A>
<P><ADDRESS>
ECRL HTK_V2.1: email support@entropic.com
</ADDRESS>
</BODY>
</HTML>
