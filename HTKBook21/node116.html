<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>9.1 Using HHED</TITLE>
<META NAME="description" CONTENT="9.1 Using HHED">
<META NAME="keywords" CONTENT="HTKBook">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="HTKBook.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html3074" HREF="node117.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html3072" HREF="node115.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html3066" HREF="node115.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html3076" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html3077" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3075" HREF="node117.html">9.2 Constructing Context-Dependent Models</A>
<B>Up:</B> <A NAME="tex2html3073" HREF="node115.html">9 HMM System Refinement</A>
<B> Previous:</B> <A NAME="tex2html3067" HREF="node115.html">9 HMM System Refinement</A>
<BR> <P>
<H1><A NAME="SECTION03610000000000000000">9.1 Using HHED</A></H1>
<A NAME="susingHHEd">&#160;</A>
<P>
The HMM editor HHED takes as input a set of HMM definitions and
outputs a new modified set, usually to a new directory.  It is invoked
by a command line of the form
<PRE>    HHEd -H MMF1 -H MMF2 ... -M newdir cmds.hed hmmlist</PRE>
where <tt>cmds.hed</tt> is an edit script containing 
a list of edit commands.  Each command
is written on a separate line and begins with a 2 letter command name.
<A NAME=9624>&#160;</A>
<P>
The effect
of  executing the above command line would be to read in the HMMs listed in 
<tt>hmmlist</tt> and defined
by files <tt>MMF1</tt>, <tt>MMF2</tt>, etc., apply  the editing operations
defined in <tt>cmds.hed</tt> and then write the resulting system out
to the directory <tt>newdir</tt>.  As with all tools, HTK will
attempt to replicate the file structure of the input in the output
directory.  By default, any new macros generated by HHED will be
written to one or more of the existing MMFs.  In doing this, HTK will
attempt to ensure that the ``definition before use'' rule for macros is
preserved, but it cannot always guarantee this.  Hence, it is usually
best to define explicit target file names for new macros.  This can be
done in two ways.  Firstly,   explicit target file names can be 
given in the edit script
using the <tt>UF</tt><A NAME=9918>&#160;</A> command.
For example, if <tt>cmds.hed</tt> contained
<PRE>   ....
   UF smacs
   # commands to generate state macros
   ....
   UF vmacs
   # commands to generate variance macros
   ....</PRE>
then the output directory would contain an MMF called <tt>smacs</tt> 
containing a set of state macro definitions and an MMF called <tt>vmacs</tt> 
containing a set of variance macro definitions, these would be in addition
to the existing MMF files <tt>MMF1</tt>, <tt>MMF2</tt>, etc.
<P>
Alternatively, the whole HMM system can be written to a single
file using the <tt>-w</tt> option.  For example, 
<PRE>    HHEd -H MMF1 -H MMF2 ... -w newMMF cmds.hed hmmlist</PRE>
would write the whole of the edited HMM set to the file <tt>newMMF</tt>.
<P>
<A NAME=9640>&#160;</A>
As mentioned previously, each execution of HHED is normally followed
by re-estimation using HEREST.  Normally, all the information
needed by HHED is contained in the model set itself.  However,
some clustering operations require various statistics about the
training data (see sections&nbsp;<A HREF="node119.html#sddclust">9.4</A> and <A HREF="node120.html#stbclust">9.5</A>).  
These statistics are gathered by HEREST<A NAME=9919>&#160;</A> and 
output to a <i>stats file</i>, which is then read in by HHED.
Note, however, that the statistics file<A NAME=9650>&#160;</A> 
generated by HEREST
refers to the input model set not the re-estimated set.  Thus
for example, in the following sequence, the HHED edit script in
<tt>cmds.hed</tt> contains a command 
(see the <tt>RO</tt> command<A NAME=9920>&#160;</A> 
in section&nbsp;<A HREF="node119.html#sddclust">9.4</A>)
which references a statistics file  (called <tt>stats</tt>) 
describing the HMM set defined by <tt>hmm1/MMF</tt>.
<PRE>    HERest -H hmm1/MMF -M hmmx -s stats hmmlist train1 train2 ....
    HHEd -H hmm1/MMF -M hmm2 cmds.hed hmmlist</PRE>
The required statistics file is generated by HEREST  but the re-estimated
model set stored in <tt>hmmx/MMF</tt> is  ignored and can be deleted.
<P>
<HR><A NAME="tex2html3074" HREF="node117.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html3072" HREF="node115.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html3066" HREF="node115.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html3076" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html3077" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3075" HREF="node117.html">9.2 Constructing Context-Dependent Models</A>
<B>Up:</B> <A NAME="tex2html3073" HREF="node115.html">9 HMM System Refinement</A>
<B> Previous:</B> <A NAME="tex2html3067" HREF="node115.html">9 HMM System Refinement</A>
<P><ADDRESS>
ECRL HTK_V2.1: email support@entropic.com
</ADDRESS>
</BODY>
</HTML>
