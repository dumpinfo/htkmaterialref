<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>13.12.2 VQ Codebook Format</TITLE>
<META NAME="description" CONTENT="13.12.2 VQ Codebook Format">
<META NAME="keywords" CONTENT="HTKBook">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="HTKBook.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html4565" HREF="node225.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html4563" HREF="node222.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html4557" HREF="node223.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html4567" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html4568" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html4566" HREF="node225.html">13.12.3 Use</A>
<B>Up:</B> <A NAME="tex2html4564" HREF="node222.html">13.12 HQuant</A>
<B> Previous:</B> <A NAME="tex2html4558" HREF="node223.html">13.12.1 Function</A>
<BR> <P>
<H2><A NAME="SECTION041122000000000000000">13.12.2 VQ Codebook Format</A></H2>
<P>
Externally, a VQ table is stored in a text file consisting of a header
followed by a sequence of entries representing each tree node.  One tree
is built for each stream and linear codebooks are represented by a tree
in which there are only right branches.
<P>
The header consists of a magic number followed by the covariance kind,
the number of following nodes, the number of streams and the width
of each stream.
<I>
<PRE><TT> 
		  header =		 magic type covkind numNodes numS swidth1 swidth2  ...
<P>
</TT></PRE>
</I>
<P>
where <I>magic</I> is a magic number which is usually the
code for the parameter kind of the data.  The <I>type</I>
defines the type of codebook
<I>
<PRE><TT> 
		  type =		 linear (0) , binary tree-structured (1)
<P>
</TT></PRE>
</I>
<P>
The covariance kind determines the type of distance metric to be
used
<I>
<PRE><TT> 
		  covkind =		 diagonal covariance (1), full covariance (2), euclidean (5)
<P>
</TT></PRE>
</I>
<P>
Within the file, these covariances are stored in inverse form.
<P>
Each node entry has the following form
<I>
<PRE><TT> 
		  node-entry =		 stream vqidx nodeId leftId rightId
<P>
		 		 mean-vector
<P>
		 		 [inverse-covariance-matrix | inverse-variance-vector]
<P>
</TT></PRE>
</I>
<P>
<I>Stream</I> is the stream index for this entry. <I>Vqidx</I>
is the VQ index corresponding to this entry.  This is the number that
appears in vector quantised speech files.  In tree-structured code-books,
it is zero for non-terminal nodes. Every node has a unique
integer identifier (distinct from the VQ index) given by <I>nodeId</I>.
The left and right daughter of the current node are given by
<I>leftId</I> and <I>rightId</I>.  In a linear codebook, the left identifier
is always zero.
<P>
Some examples of VQ tables are given in Chapter&nbsp;<A HREF="node123.html#cdiscmods">10</A>.
<P>
<HR><A NAME="tex2html4565" HREF="node225.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html4563" HREF="node222.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html4557" HREF="node223.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html4567" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html4568" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html4566" HREF="node225.html">13.12.3 Use</A>
<B>Up:</B> <A NAME="tex2html4564" HREF="node222.html">13.12 HQuant</A>
<B> Previous:</B> <A NAME="tex2html4558" HREF="node223.html">13.12.1 Function</A>
<P><ADDRESS>
ECRL HTK_V2.1: email support@entropic.com
</ADDRESS>
</BODY>
</HTML>
