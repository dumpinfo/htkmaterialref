<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>9.2 Constructing Context-Dependent Models</TITLE>
<META NAME="description" CONTENT="9.2 Constructing Context-Dependent Models">
<META NAME="keywords" CONTENT="HTKBook">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="HTKBook.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html3086" HREF="node118.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html3084" HREF="node115.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html3078" HREF="node116.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html3088" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html3089" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3087" HREF="node118.html">9.3 Parameter Tying and Item Lists</A>
<B>Up:</B> <A NAME="tex2html3085" HREF="node115.html">9 HMM System Refinement</A>
<B> Previous:</B> <A NAME="tex2html3079" HREF="node116.html">9.1 Using HHED</A>
<BR> <P>
<H1><A NAME="SECTION03620000000000000000">9.2 Constructing Context-Dependent Models</A></H1>
<A NAME="smkCDHMMs">&#160;</A>
<P>
<A NAME=9663>&#160;</A>
The first stage of model refinement is usually to convert a set of
initialised and trained context-independent monophone HMMs to a 
set of context dependent models<A NAME=9664>&#160;</A>.  As
explained in section&nbsp;<A HREF="node91.html#sedlab">6.4</A>, HTK uses the convention that a HMM
name of the form <tt>l-p+r</tt> denotes the context-dependent version of the
phone <tt>p</tt> which is to be used when the left neighbour is the phone
<tt>l</tt> and the right neighbour is the phone <tt>r</tt>.  To make a set
of context dependent phone models, it is only necessary to construct a HMM
list, called say <tt>cdlist</tt>, containing the required context-dependent models  and
then execute HHED with a single command in its edit script
<PRE>    CL cdlist</PRE>
The effect of this command is that for each model <tt>l-p+r</tt> in <tt>cdlist</tt>
it makes a copy of the monophone <tt>p</tt>.  
<A NAME=9675>&#160;</A><A NAME=9921>&#160;</A>
<P>
The set of context-dependent models output by the above must be reestimated using
HEREST.  To do this, the training data transcriptions must be converted
to use context-dependent labels and the original monophone hmm list must be
replaced by <tt>cdlist</tt>.  In fact, it is best to do this conversion before
cloning the monophones because if the HLED <tt>TC</tt> 
command<A NAME=9922>&#160;</A> 
is used then the <tt>-n</tt> option
can be used to generate the required list of context dependent HMMs automatically.
<P>
Before building a set of context-dependent models,
it is necessary to decide whether or not cross-word 
triphones<A NAME=9683>&#160;</A> are
to be used.  If they are, then word boundaries in the training data can be ignored and
all monophone labels can be converted to triphones.  If, however, word internal triphones
are to be used, then word boundaries in the training transcriptions must be marked in
some way (either by an explicit marker which is subsequently deleted or by using a short
pause <i>tee-model</i>).  This word boundary marker is then identified to HLED
using the <tt>WB</tt> command<A NAME=9923>&#160;</A> to make the <tt>TC</tt> command use biphones rather
than triphones at word boundaries<A NAME=9689>&#160;</A> (see
section&nbsp;<A HREF="node91.html#sedlab">6.4</A>).
<P>
All HTK tools can read and write
HMM definitions in text or binary form.  Text is good for seeing exactly
what the tools are producing, but binary is much faster to load and store, and
much more compact.  Binary output is enabled either using the standard option
<tt>-B</tt> or by setting the configuration variable 
<tt>SAVEBINARY</tt><A NAME=9924>&#160;</A>.
In the above example, the HMM set input to HHED will contain a small
set of monophones whereas the output will be a large set of triphones.
In order, to save storage and computation, this is usually a good point to
switch to binary storage<A NAME=9695>&#160;</A> of MMFs.
<P>
<HR><A NAME="tex2html3086" HREF="node118.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html3084" HREF="node115.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html3078" HREF="node116.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html3088" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html3089" HREF="node263.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3087" HREF="node118.html">9.3 Parameter Tying and Item Lists</A>
<B>Up:</B> <A NAME="tex2html3085" HREF="node115.html">9 HMM System Refinement</A>
<B> Previous:</B> <A NAME="tex2html3079" HREF="node116.html">9.1 Using HHED</A>
<P><ADDRESS>
ECRL HTK_V2.1: email support@entropic.com
</ADDRESS>
</BODY>
</HTML>
